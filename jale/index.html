<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lenguajes y AutÃ³matas II â€” AnÃ¡lisis SemÃ¡ntico</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #07090f;
      --surface: #0e1118;
      --border: #1a1f2e;
      --accent: #00e5ff;
      --accent2: #ff6b35;
      --accent3: #a78bfa;
      --text: #e2e8f0;
      --muted: #64748b;
      --card: #0d1017;
      --glow: rgba(0,229,255,0.12);
    }

    /* â”€â”€ SCROLLBAR â”€â”€ */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--accent); }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'IBM Plex Mono', monospace;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* â”€â”€ CANVAS PARTICLES â”€â”€ */
    .particles {
      position: fixed; inset: 0; z-index: 0;
      pointer-events: none; overflow: hidden;
    }
    .particle {
      position: absolute;
      width: 2px; height: 2px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0;
      animation: float-particle linear infinite;
      will-change: transform, opacity;
    }
    @keyframes float-particle {
      0%   { opacity: 0; transform: translateY(0) scale(1); }
      10%  { opacity: 0.6; }
      90%  { opacity: 0.2; }
      100% { opacity: 0; transform: translateY(-100vh) scale(0.5); }
    }

    /* â”€â”€ GRID OVERLAY â”€â”€ */
    .grid-overlay {
      position: fixed; inset: 0; z-index: 0; pointer-events: none;
      background-image:
        linear-gradient(rgba(0,229,255,0.025) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,229,255,0.025) 1px, transparent 1px);
      background-size: 48px 48px;
    }

    /* â”€â”€ AMBIENT GLOW BLOBS â”€â”€ */
    .blob {
      position: fixed; border-radius: 50%;
      filter: blur(80px); pointer-events: none; z-index: 0;
      animation: blob-drift ease-in-out infinite alternate;
      will-change: transform;
    }
    .blob-1 { width: 400px; height: 400px; background: rgba(0,229,255,0.055); top: -100px; left: -100px; animation-duration: 18s; }
    .blob-2 { width: 300px; height: 300px; background: rgba(167,139,250,0.045); bottom: -80px; right: -80px; animation-duration: 22s; animation-delay: -8s; }
    .blob-3 { width: 250px; height: 250px; background: rgba(255,107,53,0.03); top: 50%; left: 50%; animation-duration: 26s; animation-delay: -14s; }
    @keyframes blob-drift {
      from { transform: translate(0,0) scale(1); }
      to   { transform: translate(40px, 30px) scale(1.1); }
    }

    /* â”€â”€ SCAN LINE â”€â”€ */
    body::after {
      content: '';
      position: fixed; inset: 0; z-index: 1; pointer-events: none;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0,0,0,0.04) 2px,
        rgba(0,0,0,0.04) 4px
      );
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HEADER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    header {
      position: relative; z-index: 2;
      padding: 60px 48px 44px;
      border-bottom: 1px solid var(--border);
      display: flex; align-items: flex-end; gap: 32px;
      overflow: hidden;
    }
    header::before {
      content: '';
      position: absolute; bottom: 0; left: 0;
      height: 1px; width: 0;
      background: linear-gradient(90deg, var(--accent), var(--accent3), transparent);
      animation: line-grow 1.4s 0.3s cubic-bezier(0.4,0,0.2,1) forwards;
    }
    @keyframes line-grow { to { width: 100%; } }

    .header-label {
      writing-mode: vertical-rl; text-orientation: mixed;
      font-size: 10px; letter-spacing: 0.3em; color: var(--muted);
      text-transform: uppercase; transform: rotate(180deg); flex-shrink: 0;
      opacity: 0; animation: fade-in 0.8s 0.6s forwards;
    }
    .header-main { flex: 1; }

    .course-tag {
      display: inline-block;
      background: var(--accent); color: #000;
      font-size: 10px; font-weight: 600; letter-spacing: 0.2em;
      text-transform: uppercase; padding: 4px 12px; margin-bottom: 18px;
      clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 100%, 0 100%);
      opacity: 0; animation: fade-in 0.6s 0.2s forwards;
    }

    h1 {
      font-family: 'Syne', sans-serif;
      font-size: clamp(2.2rem, 6vw, 4.8rem);
      font-weight: 800; line-height: 1.05; color: #fff;
      opacity: 0; animation: slide-up 0.8s 0.4s cubic-bezier(0.4,0,0.2,1) forwards;
    }
    h1 span {
      color: var(--accent);
      text-shadow: 0 0 40px rgba(0,229,255,0.4);
    }

    .header-sub {
      margin-top: 14px; font-size: 11px; color: var(--muted); letter-spacing: 0.06em;
      opacity: 0; animation: fade-in 0.8s 0.8s forwards;
    }

    .cursor {
      display: inline-block; width: 2px; height: 1em;
      background: var(--accent); margin-left: 4px;
      animation: blink 1s step-end infinite;
      vertical-align: text-bottom;
    }
    @keyframes blink { 50% { opacity: 0; } }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MAIN
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    main {
      position: relative; z-index: 2;
      max-width: 1100px; margin: 0 auto;
      padding: 64px 48px 100px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SECTION
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .section-block {
      opacity: 0; transform: translateY(28px);
      animation: slide-up 0.7s 0.9s cubic-bezier(0.4,0,0.2,1) forwards;
    }
    .section-header {
      display: flex; align-items: center; gap: 20px;
      margin-bottom: 28px; padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
      position: relative;
    }
    .section-header::after {
      content: ''; position: absolute; bottom: -1px; left: 0;
      height: 1px; width: 120px;
      background: linear-gradient(90deg, var(--accent), transparent);
    }
    .section-number {
      font-family: 'Syne', sans-serif; font-size: 3.2rem;
      font-weight: 800; color: var(--accent); opacity: 0.15; line-height: 1;
    }
    .section-title-wrap h2 {
      font-family: 'Syne', sans-serif; font-size: 1.65rem;
      font-weight: 700; color: #fff;
    }
    .section-title-wrap p {
      font-size: 10px; color: var(--muted); margin-top: 5px;
      letter-spacing: 0.1em; text-transform: uppercase;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CARDS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .subtopics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
      gap: 16px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      padding: 26px;
      position: relative; overflow: hidden;
      cursor: pointer;
      transition: border-color 0.3s, transform 0.3s, box-shadow 0.3s;
      opacity: 0; animation: slide-up 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
    }
    .card:nth-child(1) { animation-delay: 1.0s; }
    .card:nth-child(2) { animation-delay: 1.15s; }
    .card:nth-child(3) { animation-delay: 1.30s; }
    .card:nth-child(4) { animation-delay: 1.45s; }

    .card::after {
      content: '';
      position: absolute; inset: 0;
      background: linear-gradient(135deg, transparent 40%, rgba(0,229,255,0.05) 50%, transparent 60%);
      background-size: 200% 200%;
      background-position: 200% 200%;
      transition: background-position 0.5s;
      pointer-events: none;
    }
    .card:hover::after { background-position: 0% 0%; }

    .card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), var(--accent3), transparent);
      opacity: 0; transition: opacity 0.3s;
    }
    .card:hover { border-color: rgba(0,229,255,0.4); transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,229,255,0.07); }
    .card:hover::before { opacity: 1; }

    .card-num {
      font-size: 10px; color: var(--accent);
      letter-spacing: 0.2em; margin-bottom: 13px; font-weight: 600;
    }
    .card h3 {
      font-family: 'Syne', sans-serif; font-size: 1rem;
      font-weight: 700; color: #fff; line-height: 1.4; margin-bottom: 12px;
    }
    .card-desc { font-size: 11px; color: var(--muted); line-height: 1.75; }

    .card-icon {
      position: absolute; bottom: 14px; right: 16px;
      font-size: 2.2rem; opacity: 0.05;
      pointer-events: none; user-select: none;
      transition: opacity 0.3s, transform 0.3s;
    }
    .card:hover .card-icon { opacity: 0.12; transform: scale(1.15) rotate(-6deg); }

    .card-cue {
      display: inline-flex; align-items: center; gap: 6px;
      margin-top: 16px; font-size: 10px; color: var(--accent);
      letter-spacing: 0.15em; text-transform: uppercase;
      opacity: 0.55; transition: opacity 0.2s, gap 0.2s;
    }
    .card:hover .card-cue { opacity: 1; gap: 10px; }
    .card-cue::after { content: 'â†’'; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MODAL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .modal-overlay {
      position: fixed; inset: 0;
      background: rgba(4,6,12,0.88);
      backdrop-filter: blur(8px);
      z-index: 300; display: flex; align-items: center;
      justify-content: center; padding: 20px;
      opacity: 0; pointer-events: none;
      transition: opacity 0.2s;
    }
    .modal-overlay.open { opacity: 1; pointer-events: all; }

    .modal {
      background: #090c14;
      border: 1px solid rgba(0,229,255,0.3);
      box-shadow: 0 0 60px rgba(0,229,255,0.08), 0 30px 80px rgba(0,0,0,0.6);
      max-width: 780px; width: 100%; max-height: 88vh;
      overflow-y: auto; position: relative;
      transform: translateY(20px) scale(0.97);
      transition: transform 0.25s cubic-bezier(0.4,0,0.2,1);
    }
    .modal-overlay.open .modal { transform: translateY(0) scale(1); }

    .modal::before, .modal::after {
      content: ''; position: absolute;
      width: 16px; height: 16px; z-index: 5;
    }
    .modal::before { top: -1px; right: -1px; border-top: 2px solid var(--accent); border-right: 2px solid var(--accent); }
    .modal::after  { bottom: -1px; left: -1px; border-bottom: 2px solid var(--accent3); border-left: 2px solid var(--accent3); }

    .modal-head {
      position: sticky; top: 0;
      background: linear-gradient(180deg, #0a0d16 80%, transparent);
      border-bottom: 1px solid var(--border);
      padding: 22px 28px; display: flex;
      justify-content: space-between; align-items: flex-start; z-index: 4;
    }
    .modal-num { font-size: 10px; color: var(--accent); letter-spacing: 0.2em; margin-bottom: 5px; }
    .modal-head h2 { font-family: 'Syne', sans-serif; font-size: 1.15rem; font-weight: 700; color: #fff; }
    .modal-close {
      background: none; border: 1px solid var(--border); color: var(--muted);
      font-size: 16px; width: 30px; height: 30px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: border-color 0.2s, color 0.2s, background 0.2s; flex-shrink: 0; margin-left: 16px;
    }
    .modal-close:hover { border-color: var(--accent2); color: var(--accent2); background: rgba(255,107,53,0.08); }

    .modal-body { padding: 28px; }

    /* tabs */
    .tab-bar { display: flex; border-bottom: 1px solid var(--border); margin-bottom: 26px; }
    .tab-btn {
      background: none; border: none; padding: 10px 18px;
      font-family: 'IBM Plex Mono', monospace; font-size: 11px;
      letter-spacing: 0.1em; color: var(--muted); cursor: pointer;
      border-bottom: 2px solid transparent; margin-bottom: -1px;
      transition: color 0.2s, border-color 0.2s;
      position: relative;
    }
    .tab-btn.active { color: var(--accent); border-bottom-color: var(--accent); }
    .tab-btn:hover:not(.active) { color: var(--text); }

    .tab-pane { display: none; }
    .tab-pane.active { display: block; animation: slide-up 0.3s ease forwards; }

    /* steps */
    .explain-step { display: flex; gap: 16px; margin-bottom: 22px; }
    .step-num {
      flex-shrink: 0; width: 28px; height: 28px;
      background: var(--accent); color: #000;
      font-size: 11px; font-weight: 700;
      display: flex; align-items: center; justify-content: center;
    }
    .step-text { font-size: 12px; color: var(--text); line-height: 1.75; padding-top: 4px; }
    .step-text strong { color: var(--accent); }

    /* tree */
    .tree-label { font-size: 10px; color: var(--muted); letter-spacing: 0.1em; margin-bottom: 8px; text-transform: uppercase; }
    .tree-box {
      background: #050710; border: 1px solid var(--border);
      border-left: 2px solid rgba(0,229,255,0.3);
      padding: 20px 24px; font-size: 12px; line-height: 1.9;
      color: #7ee8fa; white-space: pre; overflow-x: auto; margin-bottom: 18px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FOOTER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    footer {
      position: relative; z-index: 2;
      border-top: 1px solid var(--border);
      padding: 22px 48px;
      display: flex; justify-content: space-between; align-items: center;
      font-size: 10px; color: var(--muted); letter-spacing: 0.1em;
    }
    .footer-dot {
      width: 6px; height: 6px; background: var(--accent);
      border-radius: 50%; box-shadow: 0 0 8px var(--accent);
      animation: pulse 2s infinite;
    }
    @keyframes pulse { 0%,100% { opacity:1; box-shadow: 0 0 8px var(--accent); } 50% { opacity:0.3; box-shadow: none; } }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SHARED KEYFRAMES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @keyframes slide-up { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
    @keyframes fade-in  { from { opacity:0; } to { opacity:1; } }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 600px) {
      header { padding: 36px 20px 28px; flex-direction: column; gap: 12px; }
      .header-label { writing-mode: horizontal-tb; transform: none; }
      main { padding: 40px 20px 60px; }
      footer { flex-direction: column; gap: 10px; text-align: center; padding: 20px; }
      .tab-btn { padding: 10px 10px; font-size: 10px; }
    }
  </style>
</head>
<body>

<!-- Ambient blobs -->
<div class="blob blob-1"></div>
<div class="blob blob-2"></div>
<div class="blob blob-3"></div>

<!-- Grid -->
<div class="grid-overlay"></div>

<!-- Floating particles -->
<div class="particles" id="particles"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<header>
  <div class="header-label">Lenguajes y AutÃ³matas II</div>
  <div class="header-main">
    <div class="course-tag">Unidad 1</div>
    <h1>AnÃ¡lisis<br /><span>SemÃ¡ntico</span></h1>
    <p class="header-sub">// Compiladores Â· IntÃ©rpretes Â· TeorÃ­a de Lenguajes Formales<span class="cursor"></span></p>
  </div>
</header>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<main>
  <div class="section-block">
    <div class="section-header">
      <div class="section-number">01</div>
      <div class="section-title-wrap">
        <h2>AnÃ¡lisis SemÃ¡ntico</h2>
        <p>Haz clic en un subtema para ver ejemplos</p>
      </div>
    </div>

    <div class="subtopics-grid">
      <div class="card" onclick="openModal('m1')">
        <div class="card-num">1.1</div>
        <h3>Ãrboles de Expresiones</h3>
        <p class="card-desc">RepresentaciÃ³n jerÃ¡rquica de expresiones matemÃ¡ticas y lÃ³gicas. Cada nodo interno es un operador y cada hoja un operando.</p>
        <div class="card-cue">Ver ejemplos</div>
        <div class="card-icon">ğŸŒ²</div>
      </div>
      <div class="card" onclick="openModal('m2')">
        <div class="card-num">1.2</div>
        <h3>Ãrboles SemÃ¡nticos de Analizadores SintÃ¡cticos</h3>
        <p class="card-desc">AST generados por el parser. Capturan la estructura gramatical eliminando sÃ­mbolos redundantes.</p>
        <div class="card-cue">Ver ejemplos</div>
        <div class="card-icon">ğŸŒ³</div>
      </div>
      <div class="card" onclick="openModal('m3')">
        <div class="card-num">1.3</div>
        <h3>Comprobaciones de Tipos de Expresiones</h3>
        <p class="card-desc">VerificaciÃ³n estÃ¡tica o dinÃ¡mica de compatibilidad de tipos en operaciones y asignaciones.</p>
        <div class="card-cue">Ver ejemplos</div>
        <div class="card-icon">ğŸ”</div>
      </div>
      <div class="card" onclick="openModal('m4')">
        <div class="card-num">1.4</div>
        <h3>Pila SemÃ¡ntica en un Analizador LÃ©xico</h3>
        <p class="card-desc">Uso de pila auxiliar para almacenar atributos semÃ¡nticos durante el anÃ¡lisis lÃ©xico.</p>
        <div class="card-cue">Ver ejemplos</div>
        <div class="card-icon">ğŸ“š</div>
      </div>
    </div>
  </div>
</main>

<footer>
  <span>Lenguajes y AutÃ³matas II</span>
  <div class="footer-dot"></div>
  <span>AnÃ¡lisis SemÃ¡ntico Â· Unidad 1</span>
</footer>

<!-- â•â•â•â•â•â•â•â•â•â• MODAL 1 â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="m1">
  <div class="modal">
    <div class="modal-head">
      <div><div class="modal-num">SUBTEMA 1.1</div><h2>Ãrboles de Expresiones</h2></div>
      <button class="modal-close" onclick="closeModal('m1')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="tab-bar">
        <button class="tab-btn active" onclick="switchTab(this,'t1-exp')">ExplicaciÃ³n</button>
        <button class="tab-btn" onclick="switchTab(this,'t1-tree')">Diagrama</button>
      </div>
      <div class="tab-pane active" id="t1-exp">
        <div class="explain-step"><div class="step-num">1</div><div class="step-text"><strong>Â¿QuÃ© es?</strong> Un Ã¡rbol de expresiones representa una expresiÃ³n aritmÃ©tica/lÃ³gica como estructura jerÃ¡rquica donde los nodos internos son operadores (<code>+, -, *, /</code>) y las hojas son operandos.</div></div>
        <div class="explain-step"><div class="step-num">2</div><div class="step-text"><strong>Ejemplo base:</strong> La expresiÃ³n <code>(3 + 5) * 2</code> se convierte en un Ã¡rbol donde la raÃ­z es <code>*</code>, su hijo izquierdo es el subÃ¡rbol <code>+</code> con hojas <code>3</code> y <code>5</code>, y el derecho es <code>2</code>.</div></div>
        <div class="explain-step"><div class="step-num">3</div><div class="step-text"><strong>EvaluaciÃ³n postorden:</strong> Se recorre izquierda â†’ derecha â†’ raÃ­z. Primero se evalÃºan los subÃ¡rboles y luego se aplica el operador del nodo padre.</div></div>
        <div class="explain-step"><div class="step-num">4</div><div class="step-text"><strong>Utilidad:</strong> Los compiladores usan estos Ã¡rboles para generar cÃ³digo intermedio, optimizar expresiones y aplicar reglas algebraicas de simplificaciÃ³n.</div></div>
      </div>
      <div class="tab-pane" id="t1-tree">
        <div class="tree-label">ExpresiÃ³n: (3 + 5) * 2</div>
        <div class="tree-box">         *
        / \
       +   2
      / \
     3   5</div>
        <div class="tree-label" style="margin-top:20px">ExpresiÃ³n: a * b + c / d</div>
        <div class="tree-box">         +
        / \
       *   /
      / \ / \
     a  b c  d</div>
        <div class="tree-label" style="margin-top:20px">ExpresiÃ³n: (x + 1) * (y - 2)</div>
        <div class="tree-box">           *
         /   \
        +     -
       / \   / \
      x   1 y   2</div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• MODAL 2 â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="m2">
  <div class="modal">
    <div class="modal-head">
      <div><div class="modal-num">SUBTEMA 1.2</div><h2>Ãrboles SemÃ¡nticos de Analizadores SintÃ¡cticos</h2></div>
      <button class="modal-close" onclick="closeModal('m2')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="tab-bar">
        <button class="tab-btn active" onclick="switchTab(this,'t2-exp')">ExplicaciÃ³n</button>
        <button class="tab-btn" onclick="switchTab(this,'t2-tree')">Diagrama</button>
      </div>
      <div class="tab-pane active" id="t2-exp">
        <div class="explain-step"><div class="step-num">1</div><div class="step-text"><strong>AST vs. Ã¡rbol de anÃ¡lisis:</strong> El parse tree incluye todos los sÃ­mbolos gramaticales. El AST lo simplifica eliminando tokens auxiliares como parÃ©ntesis y separadores.</div></div>
        <div class="explain-step"><div class="step-num">2</div><div class="step-text"><strong>Nodos:</strong> Cada nodo representa una construcciÃ³n: declaraciÃ³n, asignaciÃ³n, llamada a funciÃ³n, condicional, etc. Los atributos semÃ¡nticos (tipo, valor, Ã¡mbito) se almacenan en los nodos.</div></div>
        <div class="explain-step"><div class="step-num">3</div><div class="step-text"><strong>ConstrucciÃ³n:</strong> En parsers descendentes los nodos se crean durante la expansiÃ³n de reglas; en ascendentes, al reducirlas.</div></div>
        <div class="explain-step"><div class="step-num">4</div><div class="step-text"><strong>Uso posterior:</strong> El AST es la entrada para verificaciÃ³n de tipos, resoluciÃ³n de nombres y generaciÃ³n de cÃ³digo intermedio.</div></div>
      </div>
      <div class="tab-pane" id="t2-tree">
        <div class="tree-label">Sentencia: int x = 3 + y;</div>
        <div class="tree-box">    AsignaciÃ³n
       /         \
  DeclaraciÃ³n   BinOp(+)
  (int, "x")   /        \
             Lit(3)    Var(y)</div>
        <div class="tree-label" style="margin-top:20px">Sentencia: if (a > b) x = 1;</div>
        <div class="tree-box">        If
       /    \
   BinOp(>)  Asign
   /    \    /   \
 Var(a) Var(b) Var(x) Lit(1)</div>
        <div class="tree-label" style="margin-top:20px">Llamada: resultado = suma(a, b);</div>
        <div class="tree-box">        AsignaciÃ³n
        /           \
    Var(resultado)  LlamadaFn
                    /    |   \
                 "suma"  Var(a) Var(b)</div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• MODAL 3 â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="m3">
  <div class="modal">
    <div class="modal-head">
      <div><div class="modal-num">SUBTEMA 1.3</div><h2>Comprobaciones de Tipos de Expresiones</h2></div>
      <button class="modal-close" onclick="closeModal('m3')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="tab-bar">
        <button class="tab-btn active" onclick="switchTab(this,'t3-exp')">ExplicaciÃ³n</button>
        <button class="tab-btn" onclick="switchTab(this,'t3-tree')">Diagrama</button>
      </div>
      <div class="tab-pane active" id="t3-exp">
        <div class="explain-step"><div class="step-num">1</div><div class="step-text"><strong>EstÃ¡tico vs. dinÃ¡mico:</strong> En tipado estÃ¡tico (C, Java) los tipos se verifican en compilaciÃ³n. En dinÃ¡mico (Python, JS) en ejecuciÃ³n. Ambos usan reglas de compatibilidad.</div></div>
        <div class="explain-step"><div class="step-num">2</div><div class="step-text"><strong>Reglas de tipo:</strong> Para un <code>BinOp(+)</code>, si ambos operandos son <code>int</code> el resultado es <code>int</code>; si uno es <code>float</code>, el resultado es <code>float</code> (coerciÃ³n implÃ­cita).</div></div>
        <div class="explain-step"><div class="step-num">3</div><div class="step-text"><strong>Error de tipo:</strong> Si se opera con tipos incompatibles (ej. <code>int + string</code> en C), el analizador semÃ¡ntico emite un error antes de generar cÃ³digo.</div></div>
        <div class="explain-step"><div class="step-num">4</div><div class="step-text"><strong>Tabla de tipos:</strong> Se usa junto a la tabla de sÃ­mbolos para registrar el tipo declarado de cada variable y compararlo contra su uso en expresiones.</div></div>
      </div>
      <div class="tab-pane" id="t3-tree">
        <div class="tree-label">Inferencia: int + float â†’ float</div>
        <div class="tree-box">    BinOp(+) â†’ float
       /          \
  Var(a):int   Var(b):float
                    â†‘ coerciÃ³n implÃ­cita</div>
        <div class="tree-label" style="margin-top:20px">Error: int + string</div>
        <div class="tree-box">    BinOp(+) â†’ âŒ ERROR SEMÃNTICO
       /              \
  Var(x):int     Var(s):string
          â†‘ tipos incompatibles</div>
        <div class="tree-label" style="margin-top:20px">AsignaciÃ³n con conversiÃ³n</div>
        <div class="tree-box">    Asign(z:float)
         |
      BinOp(*) â†’ int
       /     \
   Lit(3):int  Lit(4):int
         â†‘ intâ†’float al asignar</div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• MODAL 4 â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="m4">
  <div class="modal">
    <div class="modal-head">
      <div><div class="modal-num">SUBTEMA 1.4</div><h2>Pila SemÃ¡ntica en un Analizador LÃ©xico</h2></div>
      <button class="modal-close" onclick="closeModal('m4')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="tab-bar">
        <button class="tab-btn active" onclick="switchTab(this,'t4-exp')">ExplicaciÃ³n</button>
        <button class="tab-btn" onclick="switchTab(this,'t4-tree')">Diagrama</button>
      </div>
      <div class="tab-pane active" id="t4-exp">
        <div class="explain-step"><div class="step-num">1</div><div class="step-text"><strong>Â¿QuÃ© es?</strong> Es una estructura LIFO que mantiene los atributos semÃ¡nticos (tipo, valor, posiciÃ³n) asociados a los tokens mientras el analizador los procesa.</div></div>
        <div class="explain-step"><div class="step-num">2</div><div class="step-text"><strong>PUSH:</strong> Cada vez que el scanner reconoce un token, empuja su atributo semÃ¡ntico. Al reconocer <code>42</code>, empuja <code>{tipo:INT, valor:42}</code>.</div></div>
        <div class="explain-step"><div class="step-num">3</div><div class="step-text"><strong>POP en reducciÃ³n:</strong> Cuando el parser reduce una producciÃ³n, extrae los atributos y calcula el atributo resultante para el no-terminal izquierdo.</div></div>
        <div class="explain-step"><div class="step-num">4</div><div class="step-text"><strong>En yacc/bison:</strong> Se gestiona automÃ¡ticamente vÃ­a <code>$$</code> (valor del no-terminal) y <code>$1, $2, ...</code> (valores de la producciÃ³n).</div></div>
      </div>
      <div class="tab-pane" id="t4-tree">
        <div class="tree-label">Proceso: anÃ¡lisis de "3 + 5"</div>
        <div class="tree-box">Token leÃ­do    AcciÃ³n        Pila semÃ¡ntica
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  "3"          PUSH          [ {INT,3} ]
  "+"          PUSH          [ {INT,3} | {OP,+} ]
  "5"          PUSH          [ {INT,3} | {OP,+} | {INT,5} ]
  (reducir)    POPÃ—3, PUSH   [ {INT,8} ]
               $$ = $1 + $3 = 3 + 5 = 8</div>
        <div class="tree-label" style="margin-top:20px">Estado de pila: int x = 10</div>
        <div class="tree-box">Token       Pila (topeâ†’base)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  int      [ {TIPO,"int"} ]
  x        [ {ID,"x"} | {TIPO,"int"} ]
  =        [ {OP,"="} | {ID,"x"} | {TIPO,"int"} ]
  10       [ {INT,10} | {OP,"="} | {ID,"x"} | {TIPO,"int"} ]
  ;        Reducir: declarar x:int = 10 â†’ POPÃ—4</div>
      </div>
    </div>
  </div>
</div>

<script>
  /* â”€â”€ PARTICLES â€” mÃ¡s partÃ­culas azules y naranjas â”€â”€ */
  (function(){
    const container = document.getElementById('particles');
    const count = 45;
    for(let i = 0; i < count; i++){
      const p = document.createElement('div');
      p.className = 'particle';
      p.style.left = (Math.random()*100) + '%';
      p.style.bottom = (Math.random()*30) + '%';
      p.style.animationDuration = (10 + Math.random()*22) + 's';
      p.style.animationDelay = (Math.random()*24) + 's';
      // 60% azul (accent), 40% naranja (accent2), ninguna morada
      const r = Math.random();
      if (r < 0.6) {
        p.style.background = 'var(--accent)';
        // vary size slightly for depth
        const sz = (1 + Math.random()*2).toFixed(1) + 'px';
        p.style.width = sz; p.style.height = sz;
      } else {
        p.style.background = 'var(--accent2)';
        const sz = (1 + Math.random()*1.5).toFixed(1) + 'px';
        p.style.width = sz; p.style.height = sz;
      }
      container.appendChild(p);
    }
  })();

  /* â”€â”€ MODAL â”€â”€ */
  function openModal(id){
    document.getElementById(id).classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeModal(id){
    document.getElementById(id).classList.remove('open');
    document.body.style.overflow = '';
  }
  document.querySelectorAll('.modal-overlay').forEach(ov => {
    ov.addEventListener('click', e => { if(e.target === ov) closeModal(ov.id); });
  });
  document.addEventListener('keydown', e => {
    if(e.key === 'Escape')
      document.querySelectorAll('.modal-overlay.open').forEach(m => closeModal(m.id));
  });

  /* â”€â”€ TABS â”€â”€ */
  function switchTab(btn, paneId){
    const body = btn.closest('.modal-body');
    body.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    body.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(paneId).classList.add('active');
  }
</script>
</body>
</html>